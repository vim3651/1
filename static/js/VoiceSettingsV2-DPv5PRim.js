import{n as e,t}from"./Tabs-DsnHk16H.js";import{t as n}from"./mic-DOR2hOIQ.js";import{t as r}from"./volume-2-ec6s1-Ci.js";import{Ad as i,Cd as a,Du as o,Ot as s,Uu as c,_ as l,bd as u,ci as d,fd as f,i as p,md as m,np as h,pp as g,qd as _,qp as v,vd as y,xd as b,xp as x,xu as S,zp as C}from"./index-hvLbsAjx.js";var w=v(C(),1),T=v(x(),1),E=e=>[{id:`capacitor`,name:e(`settings.voice.services.capacitorTTS.name`),description:e(`settings.voice.services.capacitorTTS.description`),icon:`ðŸ“±`,color:`#F59E0B`,features:e(`settings.voice.services.capacitorTTS.features`,{returnObjects:!0}),status:`free`,path:`/settings/voice/tts/capacitor`},{id:`siliconflow`,name:e(`settings.voice.services.siliconflow.name`),description:e(`settings.voice.services.siliconflow.description`),icon:`ðŸš€`,color:`#9333EA`,features:e(`settings.voice.services.siliconflow.features`,{returnObjects:!0}),status:`recommended`,path:`/settings/voice/tts/siliconflow`},{id:`openai`,name:e(`settings.voice.services.openai.name`),description:e(`settings.voice.services.openai.description`),icon:`ðŸ¤–`,color:`#10B981`,features:e(`settings.voice.services.openai.features`,{returnObjects:!0}),status:`premium`,path:`/settings/voice/tts/openai`},{id:`azure`,name:e(`settings.voice.services.azure.name`),description:e(`settings.voice.services.azure.description`),icon:`â˜ï¸`,color:`#3B82F6`,features:e(`settings.voice.services.azure.features`,{returnObjects:!0}),status:`enterprise`,path:`/settings/voice/tts/azure`},{id:`gemini`,name:e(`settings.voice.services.gemini.name`),description:e(`settings.voice.services.gemini.description`),icon:`âœ¨`,color:`#EA4335`,features:e(`settings.voice.services.gemini.features`,{returnObjects:!0}),status:`premium`,path:`/settings/voice/tts/gemini`},{id:`elevenlabs`,name:e(`settings.voice.services.elevenlabs.name`),description:e(`settings.voice.services.elevenlabs.description`),icon:`ðŸŽ™ï¸`,color:`#00C7B7`,features:e(`settings.voice.services.elevenlabs.features`,{returnObjects:!0}),status:`premium`,path:`/settings/voice/tts/elevenlabs`},{id:`minimax`,name:e(`settings.voice.services.minimax.name`),description:e(`settings.voice.services.minimax.description`),icon:`ðŸ‰`,color:`#FF6B35`,features:e(`settings.voice.services.minimax.features`,{returnObjects:!0}),status:`premium`,path:`/settings/voice/tts/minimax`},{id:`volcano`,name:e(`settings.voice.services.volcano.name`),description:e(`settings.voice.services.volcano.description`),icon:`ðŸŒ‹`,color:`#FF4500`,features:e(`settings.voice.services.volcano.features`,{returnObjects:!0}),status:`free`,path:`/settings/voice/tts/volcano`}],D=e=>[{id:`capacitor`,name:e(`settings.voice.services.capacitor.name`),description:e(`settings.voice.services.capacitor.description`),icon:`ðŸ“±`,color:`#F59E0B`,features:e(`settings.voice.services.capacitor.features`,{returnObjects:!0}),status:`free`,path:`/settings/voice/asr/capacitor`},{id:`openai-whisper`,name:e(`settings.voice.services.openaiWhisper.name`),description:e(`settings.voice.services.openaiWhisper.description`),icon:`ðŸŽ¯`,color:`#EF4444`,features:e(`settings.voice.services.openaiWhisper.features`,{returnObjects:!0}),status:`premium`,path:`/settings/voice/asr/openai-whisper`}],O=e=>({recommended:{label:e(`settings.voice.status.recommended`),color:`primary`},premium:{label:e(`settings.voice.status.premium`),color:`warning`},enterprise:{label:e(`settings.voice.status.enterprise`),color:`info`},free:{label:e(`settings.voice.status.free`),color:`success`}}),k=()=>{let v=g(),{t:x}=d(),[C,k]=(0,w.useState)(0),[A,j]=(0,w.useState)(`siliconflow`),[M,N]=(0,w.useState)(`capacitor`),{containerRef:P,handleScroll:F}=p(`settings-voice`,{autoRestore:!0,restoreDelay:0}),I=s(`toolbar-bg`),L=s(`toolbar-border`),R=s(`toolbar-shadow`),z=s(`text-primary`),B=s(`text-secondary`),V=s(`border-default`),H=s(`border-subtle`),U=s(`hover-bg`),W=s(`bg-paper`),G=s(`bg-elevated`),K=s(`primary`),q=(0,w.useMemo)(()=>E(x),[x]),J=(0,w.useMemo)(()=>D(x),[x]),Y=(0,w.useMemo)(()=>O(x),[x]),X=(0,w.useCallback)(async()=>{try{let e=await h(`selected_tts_service`)||`siliconflow`,t=await h(`speech_recognition_provider`)||`capacitor`;j(e),N(t)}catch(e){console.error(x(`settings.voice.common.loadingError`,{service:`current service status`}),e)}},[x]);(0,w.useEffect)(()=>(X(),window.addEventListener(`focus`,X),()=>window.removeEventListener(`focus`,X)),[X]);let Z=()=>{v(`/settings`)},Q=(e,t)=>{k(t)},$=e=>{v(e)};(0,w.useEffect)(()=>{let e=()=>{document.hidden||X()};return document.addEventListener(`visibilitychange`,e),()=>document.removeEventListener(`visibilitychange`,e)},[X]);let ee=C===0?q:J;return(0,T.jsxs)(l,{children:[(0,T.jsx)(u,{position:`static`,elevation:0,sx:{backgroundColor:I,color:z,borderBottom:`1px solid ${L}`,boxShadow:`0 18px 40px -24px ${R}`,backdropFilter:`blur(18px)`,WebkitBackdropFilter:`blur(18px)`,transition:`background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease`},children:(0,T.jsxs)(o,{sx:{minHeight:{xs:56,sm:64},px:{xs:1.5,sm:2.5,md:4},gap:{xs:1,sm:1.5}},children:[(0,T.jsx)(a,{edge:`start`,onClick:Z,"aria-label":x(`settings.voice.back`),size:`large`,sx:{color:K,mr:{xs:1,sm:2},borderRadius:2,border:`1px solid ${H}`,transition:`all 0.2s ease-in-out`,"&:hover":{backgroundColor:U,transform:`translateY(-1px)`},"&:focus-visible":{outline:`2px solid ${K}`,outlineOffset:`2px`}},children:(0,T.jsx)(S,{size:20})}),(0,T.jsx)(b,{variant:`h6`,component:`div`,sx:{flexGrow:1,fontWeight:700,letterSpacing:`0.03em`,textTransform:`uppercase`},children:x(`settings.voice.title`)})]})}),(0,T.jsx)(f,{ref:P,onScroll:F,sx:{flex:1,overflow:`auto`,overflowX:`hidden`,pt:2,pb:`var(--content-bottom-padding)`,px:{xs:1,sm:2,md:3},WebkitOverflowScrolling:`touch`,scrollBehavior:`auto`,"&::-webkit-scrollbar":{width:{xs:`4px`,sm:`6px`}},"&::-webkit-scrollbar-track":{background:`transparent`},"&::-webkit-scrollbar-thumb":{backgroundColor:R,borderRadius:`10px`,border:`1px solid ${H}`}},children:(0,T.jsxs)(f,{sx:{width:`100%`,maxWidth:1260,mx:`auto`},children:[(0,T.jsx)(i,{elevation:0,sx:{mb:{xs:2,sm:3},p:{xs:.5,sm:1},borderRadius:{xs:2,sm:2.5},border:`1px solid ${V}`,bgcolor:W,boxShadow:`0 18px 40px -28px ${R}`},children:(0,T.jsxs)(t,{value:C,onChange:Q,variant:`standard`,TabIndicatorProps:{sx:{display:`none`}},sx:{minHeight:0,"& .MuiTabs-flexContainer":{gap:{xs:.5,sm:1}},"& .MuiTab-root":{flex:1,minHeight:0,borderRadius:{xs:1.5,sm:2},px:{xs:1.5,sm:2},py:{xs:1.1,sm:1.4},color:B,fontWeight:600,textTransform:`none`,transition:`all 0.2s ease`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:{xs:.75,sm:1},"& svg":{width:20,height:20},"&.Mui-selected":{color:z,backgroundColor:U,boxShadow:`0 18px 40px -24px ${R}`},"&:hover":{backgroundColor:U}}},children:[(0,T.jsx)(e,{disableRipple:!0,label:x(`settings.voice.tabs.tts`),icon:(0,T.jsx)(r,{size:20}),iconPosition:`start`}),(0,T.jsx)(e,{disableRipple:!0,label:x(`settings.voice.tabs.asr`),icon:(0,T.jsx)(n,{size:20}),iconPosition:`start`})]})}),(0,T.jsx)(f,{sx:{display:`grid`,gridTemplateColumns:{xs:`1fr`,sm:`repeat(2, 1fr)`,md:`repeat(3, 1fr)`},gap:{xs:1.5,sm:2,md:2.5}},children:ee.map(e=>(0,T.jsx)(i,{elevation:0,sx:{position:`relative`,borderRadius:{xs:2.4,sm:2.8},overflow:`hidden`,border:`1px solid ${V}`,transition:`transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, background-color 0.3s ease`,bgcolor:W,boxShadow:`0 22px 48px -32px ${R}`,minHeight:{xs:152,sm:176},"&:hover":{transform:`translateY(-6px)`,boxShadow:`0 32px 70px -30px ${R}`,borderColor:K,backgroundColor:G},"&:hover .service-card__avatar":{transform:`scale(1.06)`}},children:(0,T.jsx)(c,{onClick:()=>$(e.path),sx:{p:0,height:`100%`,alignItems:`stretch`,transition:`background-color 0.2s ease`,"&:hover":{bgcolor:`transparent`},"&:focus-visible":{outline:`2px solid ${K}`,outlineOffset:`4px`}},children:(0,T.jsxs)(f,{sx:{display:`flex`,flexDirection:`column`,width:`100%`,p:{xs:2,sm:2.5},height:`100%`,gap:{xs:1.5,sm:2}},children:[(0,T.jsxs)(f,{sx:{display:`flex`,alignItems:`flex-start`,mb:1.5},children:[(0,T.jsx)(m,{className:`service-card__avatar`,sx:{bgcolor:t=>_(e.color,t.palette.mode===`dark`?.24:.12),color:e.color,mr:1.5,width:48,height:48,border:`1px solid ${H}`,boxShadow:`0 12px 28px -18px ${R}`,transition:`transform 0.3s ease`},children:e.icon}),(0,T.jsxs)(f,{sx:{flex:1},children:[(0,T.jsx)(f,{sx:{display:`flex`,alignItems:`center`,mb:.5},children:(0,T.jsx)(b,{variant:`subtitle1`,sx:{fontWeight:600,color:z,lineHeight:1.2,letterSpacing:`0.01em`},children:e.name})}),(0,T.jsxs)(f,{sx:{display:`flex`,gap:.5,flexWrap:`wrap`},children:[(C===0&&A===e.id||C===1&&M===e.id)&&(0,T.jsx)(y,{size:`small`,label:x(`settings.voice.status.active`),color:`success`,variant:`filled`,sx:{fontSize:`0.65rem`,fontWeight:600,height:18,borderRadius:1.5,"& .MuiChip-label":{px:.75}}}),(0,T.jsx)(y,{size:`small`,label:Y[e.status].label,color:Y[e.status].color,variant:`outlined`,sx:{fontSize:`0.7rem`,fontWeight:600,height:20,borderRadius:1.5,"& .MuiChip-label":{px:.75}}})]})]})]}),(0,T.jsx)(b,{variant:`body2`,sx:{color:B,lineHeight:1.4,mb:1.5,display:`-webkit-box`,WebkitLineClamp:2,WebkitBoxOrient:`vertical`,overflow:`hidden`},children:e.description}),(0,T.jsxs)(f,{sx:{display:`flex`,flexWrap:`wrap`,gap:.5,mt:`auto`},children:[e.features.slice(0,3).map((t,n)=>(0,T.jsx)(y,{size:`small`,label:t,variant:`filled`,sx:{bgcolor:t=>_(e.color,t.palette.mode===`dark`?.24:.12),color:e.color,fontSize:`0.65rem`,fontWeight:600,height:20,borderRadius:1.5,border:`1px solid ${_(e.color,.25)}`,"& .MuiChip-label":{px:.9}}},n)),e.features.length>3&&(0,T.jsx)(y,{size:`small`,label:`+${e.features.length-3}`,variant:`outlined`,sx:{fontSize:`0.65rem`,fontWeight:600,height:20,borderRadius:1.5,borderColor:H,color:B,"& .MuiChip-label":{px:.75}}})]})]})})},e.id))})]})})]})};export{k as default};