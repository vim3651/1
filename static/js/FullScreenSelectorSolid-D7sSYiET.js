import{Ud as e,qi as t,qp as n,xp as r,zp as i}from"./index-hvLbsAjx.js";import{C as a,D as o,S as s,_ as c,a as l,b as u,f as d,g as f,i as p,o as m,p as h,r as g,t as _,x as v,y}from"./web-DV3rYUP8.js";import{t as b}from"./SolidBridge-4JuNrAWl.js";var x=d(`<span class=solid-selector-check><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><polyline points="20 6 9 17 4 12">`),S=d(`<div><span class=solid-selector-empty-label>`),C=d(`<div class=solid-selector-no-results>未找到匹配的选项`),w=d(`<div><div><header class=solid-selector-header><button class=solid-selector-back-btn aria-label=返回><svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><path d="M19 12H5M12 19l-7-7 7-7"></path></svg></button><h2 class=solid-selector-title></h2><span class=solid-selector-badge>⚡ SolidJS</span></header><div class=solid-selector-tabs-wrapper><div class=solid-selector-tabs-container><div class=solid-selector-tabs><button class=solid-selector-tab>全部</button></div></div></div><div class=solid-selector-search><div class=solid-selector-search-wrapper><span class=solid-selector-search-icon><svg width=18 height=18 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><circle cx=11 cy=11 r=8></circle><path d="M21 21l-4.35-4.35"></path></svg></span><input class=solid-selector-search-input type=text placeholder=搜索...></div></div><div class=solid-selector-content>`),T=d(`<button class=solid-selector-tab>`),E=d(`<div class=solid-selector-group-title>`),D=d(`<div class=solid-selector-group><div class=solid-selector-grid>`),O=d(`<span class=solid-selector-chip-check><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><polyline points="20 6 9 17 4 12">`),k=d(`<span class=solid-selector-chip-delete><svg width=14 height=14 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>`),A=d(`<div><span>`);function j(e){let[n,r]=a(``),[i,d]=a(`all`),p,b,j=()=>e.themeMode||`light`,M=`solid-fullscreen-selector-${Math.random().toString(36).slice(2)}`,N=v(()=>e.groups.map(e=>e.name)),P=v(()=>{let t=n().toLowerCase().trim(),r=i(),a=e.groups;return r!==`all`&&(a=a.filter(e=>e.name===r)),t&&(a=a.map(e=>({...e,items:e.items.filter(e=>e.label.toLowerCase().includes(t)||e.key.toLowerCase().includes(t)||e.subLabel&&e.subLabel.toLowerCase().includes(t))})).filter(e=>e.items.length>0)),a}),F=(t,n)=>{e.onSelect(t,n),e.onClose()},I=()=>{r(``),d(`all`),e.onClose()},L=e=>{e.target.classList.contains(`solid-selector-backdrop`)&&I()},R=e=>{b&&(e.preventDefault(),b.scrollLeft+=e.deltaY*2)};return u(()=>{let n=e.open,{openDialog:i,closeDialog:a}=t.getState();n?i(M,I):(a(M),r(``),d(`all`)),o(()=>{n&&a(M)})}),y(c,{get when(){return e.open},get children(){return y(_,{get children(){var t=w(),a=t.firstChild,o=a.firstChild,u=o.firstChild,_=u.nextSibling,v=o.nextSibling,M=v.firstChild,z=M.firstChild,B=z.firstChild,V=v.nextSibling,H=V.firstChild.firstChild.nextSibling,U=V.nextSibling;t.$$click=L,u.$$click=I,l(_,()=>e.title),M.addEventListener(`wheel`,R);var W=b;typeof W==`function`?h(W,M):b=M,B.$$click=()=>d(`all`),l(z,y(f,{get each(){return N()},children:e=>(()=>{var t=T();return t.$$click=()=>d(e),l(t,e),s(()=>t.classList.toggle(`active`,i()===e)),t})()}),null),H.$$input=e=>r(e.currentTarget.value);var G=p;return typeof G==`function`?h(G,H):p=H,l(U,y(c,{get when(){return m(()=>!!e.allowEmpty)()&&!n()},get children(){var t=S(),n=t.firstChild;return t.$$click=()=>F(``,e.emptyLabel||`无`),l(n,()=>e.emptyLabel||`无`),l(t,y(c,{get when(){return e.selectedKey===``},get children(){return x()}}),null),s(()=>g(t,`solid-selector-empty-option ${e.selectedKey===``?`selected`:``}`)),t}}),null),l(U,y(f,{get each(){return P()},children:t=>(()=>{var n=D(),r=n.firstChild;return l(n,y(c,{get when(){return i()===`all`},get children(){var e=E();return l(e,()=>t.name),e}}),r),l(r,y(f,{get each(){return t.items},children:t=>(()=>{var n=A(),r=n.firstChild;return n.$$click=()=>F(t.key,t.label),l(r,()=>t.label),l(n,y(c,{get when(){return e.selectedKey===t.key},get children(){return O()}}),null),l(n,y(c,{get when(){return m(()=>!!t.deletable)()&&e.onDelete},get children(){var n=k();return n.$$click=n=>{n.stopPropagation(),e.onDelete?.(t.key)},n}}),null),s(()=>g(n,`solid-selector-chip ${e.selectedKey===t.key?`selected`:``} ${t.deletable?`deletable`:``}`)),n})()})),n})()}),null),l(U,y(c,{get when(){return m(()=>P().length===0)()&&n()},get children(){return C()}}),null),s(e=>{var n=`solid-selector-backdrop ${j()}`,r=`solid-selector-panel ${j()}`,o=i()===`all`;return n!==e.e&&g(t,e.e=n),r!==e.t&&g(a,e.t=r),o!==e.a&&B.classList.toggle(`active`,e.a=o),e},{e:void 0,t:void 0,a:void 0}),s(()=>H.value=n()),t}})}})}p([`click`,`input`]);var M=n(i(),1),N=n(r(),1),P=({open:t,onClose:n,title:r,groups:i,selectedKey:a,onSelect:o,onDelete:s,allowEmpty:c=!1,emptyLabel:l=`无`})=>{let u=e().palette.mode,d=(0,M.useMemo)(()=>({open:t,onClose:n,title:r,groups:i,selectedKey:a,onSelect:o,onDelete:s,allowEmpty:c,emptyLabel:l,themeMode:u}),[t,n,r,i,a,o,s,c,l,u]);return t?(0,N.jsx)(b,{component:j,props:d,debugName:`FullScreenSelector`}):null};export{P as t};