import{qp as e,zp as t}from"./index-hvLbsAjx.js";function n(e,t,n){return Math.max(t,Math.min(e,n))}var r={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function i(e,t,n){return t===0||Math.abs(t)===1/0?e**(n*5):e*t*n/(t+n*e)}function a(e,t,r,a=.15){return a===0?n(e,t,r):e<t?-i(t-e,r-t,a)+t:e>r?+i(e-r,r-t,a)+r:e}function o(e,[t,n],[r,i]){let[[o,s],[c,l]]=e;return[a(t,o,s,r),a(n,c,l,i)]}function s(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function c(e){var t=s(e,`string`);return typeof t==`symbol`?t:String(t)}function l(e,t,n){return t=c(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?u(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={pointer:{start:`down`,change:`move`,end:`up`},mouse:{start:`down`,change:`move`,end:`up`},touch:{start:`start`,change:`move`,end:`end`},gesture:{start:`start`,change:`change`,end:`end`}};function p(e){return e?e[0].toUpperCase()+e.slice(1):``}var m=[`enter`,`leave`];function h(e=!1,t){return e&&!m.includes(t)}function g(e,t=``,n=!1){let r=f[e],i=r&&r[t]||t;return`on`+p(e)+p(i)+(h(n,i)?`Capture`:``)}var _=[`gotpointercapture`,`lostpointercapture`];function v(e){let t=e.substring(2).toLowerCase(),n=!!~t.indexOf(`passive`);n&&(t=t.replace(`passive`,``));let r=_.includes(t)?`capturecapture`:`capture`,i=!!~t.indexOf(r);return i&&(t=t.replace(`capture`,``)),{device:t,capture:i,passive:n}}function y(e,t=``){let n=f[e];return e+(n&&n[t]||t)}function b(e){return`touches`in e}function x(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)==null||(r=n.contains)==null?void 0:r.call(n,t.target))})}function S(e,t){try{let n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,a=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[i,a]}}catch{}return null}function C(e){return x(e).map(e=>e.identifier)}function w(e,t){let[n,r]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return S(n,r)}var T=40,E=800;function ee(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=T,n*=T):r===2&&(t*=E,n*=E),[t,n]}function D(e){let t={};if(`buttons`in e&&(t.buttons=e.buttons),`shiftKey`in e){let{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}function O(e,...t){return typeof e==`function`?e(...t):e}function te(){}function k(...e){return e.length===0?te:e.length===1?e[0]:function(){let t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function A(e,t){return Object.assign({},t,e||{})}var ne=32,re=class{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?O(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:n,shared:i}=this;t.args=this.args;let a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,D(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);r.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[s,c]=t._movement,[l,u]=n.threshold,{_step:d,values:f}=t;if(n.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(s)>=l&&f[0]),d[1]===!1&&(d[1]=Math.abs(c)>=u&&f[1])):(d[0]===!1&&(d[0]=Math.abs(s)>=l&&Math.sign(s)*l),d[1]===!1&&(d[1]=Math.abs(c)>=u&&Math.sign(c)*u)),t.intentional=d[0]!==!1||d[1]!==!1,!t.intentional)return;let p=[0,0];if(n.hasCustomTransform){let[e,t]=f;p[0]=d[0]===!1?0:e-d[0],p[1]=d[1]===!1?0:t-d[1]}else p[0]=d[0]===!1?0:s-d[0],p[1]=d[1]===!1?0:c-d[1];this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);let m=t.offset,h=t._active&&!t._blocked||t.active;h&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&(`bounds`in n&&(t._bounds=O(n.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));let[g,_]=t.offset,[[v,y],[b,x]]=t._bounds;t.overflow=[g<v?-1:g>y?1:0,_<b?-1:_>x?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;let S=t._active&&n.rubberband||[0,0];if(t.offset=o(t._bounds,t.offset,S),t.delta=r.sub(t.offset,m),this.computeMovement(),h&&(!t.last||a>ne)){t.delta=r.sub(t.offset,m);let e=t.delta.map(Math.abs);r.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[e[0]/a,e[1]/a],t.timeDelta=a)}}emit(){let e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;let r=this.handler(d(d(d({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}},ie=e=>e,j=.15,M={enabled(e=!0){return e},eventOptions(e,t,n){return d(d({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[j,j];case!1:return[0,0];default:return r.toVector(e)}},from(e){if(typeof e==`function`)return e;if(e!=null)return r.toVector(e)},transform(e,t,n){let r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||ie},threshold(e){return r.toVector(e,0)}},ae=0,N=d(d({},M),{},{axis(e,t,{axis:n}){if(this.lockDirection=n===`lock`,!this.lockDirection)return n},axisThreshold(e=ae){return e},bounds(e={}){if(typeof e==`function`)return t=>N.bounds(e(t));if(`current`in e)return()=>e.current;if(typeof HTMLElement==`function`&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),P=typeof window<`u`&&window.document&&window.document.createElement;function F(){return P&&`ontouchstart`in window}function oe(){return F()||P&&window.navigator.maxTouchPoints>1}function se(){return P&&`onpointerdown`in window}function I(){return P&&`exitPointerLock`in window.document}function L(){try{return`constructor`in GestureEvent}catch{return!1}}var R={isBrowser:P,gesture:L(),touch:F(),touchscreen:oe(),pointer:se(),pointerLock:I()},z=250,B=180,V=.5,H=50,U=250,W=10,G={mouse:0,touch:0,pen:8};d(d({},N),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&R.pointerLock,R.touch&&n?`touch`:this.pointerLock?`mouse`:R.pointer&&!i?`pointer`:R.touch?`touch`:`mouse`},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n==`number`?n:n||n===void 0&&e?z:void 0,!(!R.touchscreen||n===!1))return e||(n===void 0?void 0:`y`)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device===`pointer`&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:i=3,axis:a=void 0}){let o=r.toVector(e,n?i:a?1:0);return this.filterTaps=n,this.tapsThreshold=i,o},swipe({velocity:e=V,distance:t=H,duration:n=U}={}){return{velocity:this.transform(r.toVector(e)),distance:this.transform(r.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return B;case!1:return 0;default:return e}},axisThreshold(e){return e?d(d({},G),e):G},keyboardDisplacement(e=W){return e}});function K(e){let[t,n]=e.overflow,[r,i]=e._delta,[a,o]=e._direction;(t<0&&r>0&&a<0||t>0&&r<0&&a>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&o<0||n>0&&i<0&&o>0)&&(e._movement[1]=e._movementBound[1])}var ce=30,le=100,ue=class extends re{constructor(...e){super(...e),l(this,`ingKey`,`pinching`),l(this,`aliasKey`,`da`)}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:t,lastOffset:n}=this.state;e===`wheel`?this.state.offset=r.add(t,n):this.state.offset=[(1+t[0])*n[0],t[1]+n[1]]}computeMovement(){let{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){let e=this.state,[t,n]=e._movement;if(!e.axis){let r=Math.abs(t)*ce-Math.abs(n);r<0?e.axis=`angle`:r>0&&(e.axis=`scale`)}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis===`scale`?e[1]=0:this.state.axis===`angle`&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let t=this.state,n=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>n.has(e))||n.size<2)return;this.start(e),t._touchIds=Array.from(n).slice(0,2);let r=w(e,t._touchIds);r&&this.pinchStart(e,r)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if(t._active&&Array.from(n.keys()).every(e=>r.has(e))||(n.size<2&&n.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);let i=S(...Array.from(n.values()));i&&this.pinchStart(e,i)}pinchStart(e,t){let n=this.state;n.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let t=w(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){let t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;let n=S(...Array.from(t.values()));n&&this.pinchMove(e,n)}pinchMove(e,t){let n=this.state,r=n._values[1],i=t.angle-r,a=0;Math.abs(i)>270&&(a+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*a]),n.origin=t.origin,n.turns=a,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];let n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=r.sub(t._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(t=>e[t]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add(`wheelEnd`,this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){`uv`in e||e.cancelable&&e.preventDefault();let t=this.state;t._delta=[-ee(e)[1]/le*t.offset[0],0],r.addTo(t._movement,t._delta),K(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let t=this.config.device;t&&(e(t,`start`,this[t+`Start`].bind(this)),e(t,`change`,this[t+`Move`].bind(this)),e(t,`end`,this[t+`End`].bind(this)),e(t,`cancel`,this[t+`End`].bind(this)),e(`lostPointerCapture`,``,this[t+`End`].bind(this))),this.config.pinchOnWheel&&e(`wheel`,``,this.wheel.bind(this),{passive:!1})}},de=d(d({},M),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!R.touch&&R.gesture)return`gesture`;if(R.touch&&r)return`touch`;if(R.touchscreen){if(R.pointer)return`pointer`;if(R.touch)return`touch`}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){let i=e=>{let t=A(O(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{let t=A(O(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return typeof n!=`function`&&typeof r!=`function`?[i(),a()]:e=>[i(e),a(e)]},threshold(e,t,n){return this.lockDirection=n.axis===`lock`,r.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?`ctrlKey`:e},pinchOnWheel(e=!0){return e}});d(d({},N),{},{mouseOnly:(e=!0)=>e}),d(d({},N),{},{mouseOnly:(e=!0)=>e});var q=new Map,J=new Map;function fe(e){q.set(e.key,e.engine),J.set(e.key,e.resolver)}var pe={key:`pinch`,engine:ue,resolver:de};function me(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function he(e,t){if(e==null)return{};var n=me(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ge={target(e){if(e)return()=>`current`in e?e.current:e},enabled(e=!0){return e},window(e=R.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},_e=[`target`,`eventOptions`,`window`,`enabled`,`transform`];function Y(e={},t){let n={};for(let[r,i]of Object.entries(t))switch(typeof i){case`function`:n[r]=i.call(n,e[r],r,e);break;case`object`:n[r]=Y(e[r],i);break;case`boolean`:i&&(n[r]=e[r]);break}return n}function ve(e,t,n={}){let r=e,{target:i,eventOptions:a,window:o,enabled:s,transform:c}=r,l=he(r,_e);if(n.shared=Y({target:i,eventOptions:a,window:o,enabled:s,transform:c},ge),t){let e=J.get(t);n[t]=Y(d({shared:n.shared},l),e)}else for(let e in l){let t=J.get(e);t&&(n[e]=Y(d({shared:n.shared},l[e]),t))}return n}var X=class{constructor(e,t){l(this,`_listeners`,new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){let a=this._listeners,o=y(t,n),s=d(d({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,r,s);let c=()=>{e.removeEventListener(o,r,s),a.delete(c)};return a.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}},ye=class{constructor(){l(this,`_timeouts`,new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}},be=class{constructor(e){l(this,`gestures`,new Set),l(this,`_targetEventStore`,new X(this)),l(this,`gestureEventStores`,{}),l(this,`gestureTimeoutStores`,{}),l(this,`handlers`,{}),l(this,`config`,{}),l(this,`pointerIds`,new Set),l(this,`touchIds`,new Set),l(this,`state`,{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),xe(this,e)}setEventIds(e){if(b(e))return this.touchIds=new Set(C(e)),this.touchIds;if(`pointerId`in e)return e.type===`pointerup`||e.type===`pointercancel`?this.pointerIds.delete(e.pointerId):e.type===`pointerdown`&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=ve(e,t,this.config)}clean(){this._targetEventStore.clean();for(let e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t=this.config.shared,n={},r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(let t of this.gestures){let i=this.config[t],a=Q(n,i.eventOptions,!!r);i.enabled&&new(q.get(t))(this,e,t).bind(a)}let i=Q(n,t.eventOptions,!!r);for(let t in this.nativeHandlers)i(t,``,n=>this.nativeHandlers[t](d(d({},this.state.shared),{},{event:n,args:e})),void 0,!0)}for(let e in n)n[e]=k(...n[e]);if(!r)return n;for(let e in n){let{device:t,capture:i,passive:a}=v(e);this._targetEventStore.add(r,t,``,n[e],{capture:i,passive:a})}}}};function Z(e,t){e.gestures.add(t),e.gestureEventStores[t]=new X(e,t),e.gestureTimeoutStores[t]=new ye}function xe(e,t){t.drag&&Z(e,`drag`),t.wheel&&Z(e,`wheel`),t.scroll&&Z(e,`scroll`),t.move&&Z(e,`move`),t.pinch&&Z(e,`pinch`),t.hover&&Z(e,`hover`)}var Q=(e,t,n)=>(r,i,a,o={},s=!1)=>{let c=o.capture??t.capture,l=o.passive??t.passive,u=s?r:g(r,i,c);n&&l&&(u+=`Passive`),e[u]=e[u]||[],e[u].push(a)},$=e(t());function Se(e,t={},n,r){let i=$.useMemo(()=>new be(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),$.useEffect(i.effect.bind(i)),$.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function Ce(e,t){return fe(pe),Se({pinch:e},t||{},`pinch`)}const we=(e={})=>{let{minScale:t=.5,maxScale:n=3,initialScale:r=1,scaleStep:i=.1,onScaleChange:a}=e,[o,s]=(0,$.useState)(r),c=(0,$.useCallback)(e=>{let r=Math.min(Math.max(e,t),n);return s(r),a?.(r),r},[t,n,a]),l=Ce(({offset:[e],memo:t=r})=>(c(t*e),t),{scaleBounds:{min:t/r,max:n/r},rubberband:!0,preventDefault:!0,pointer:{touch:!0},from:()=>[o/r,0],filterTaps:!0,threshold:.01,eventOptions:{passive:!1}});return{scale:o,zoomIn:(0,$.useCallback)(()=>{c(o+i)},[o,i,c]),zoomOut:(0,$.useCallback)(()=>{c(o-i)},[o,i,c]),resetZoom:(0,$.useCallback)(()=>{c(r)},[r,c]),bindGestures:(0,$.useCallback)(()=>l(),[l]),canZoomIn:o<n,canZoomOut:o>t}};export{we as t};