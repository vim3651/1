import{t as e}from"./Card-CgnXHdbl.js";import{t}from"./CardActions-Di-BmE_R.js";import{t as n}from"./CardContent-f2tPkMYB.js";import{t as r}from"./InputAdornment-DO0tC8Wv.js";import{t as i}from"./circle-check-B0NHRkcd.js";import{t as ee}from"./circle-x-CT1DTRz7.js";import{t as te}from"./key-BYdhPxO4.js";import{t as ne}from"./plus-DCrdXXDc.js";import{$n as re,Al as ie,Bn as a,Cd as o,Eu as s,Fn as c,Gi as l,Gn as ae,Hn as oe,Iu as u,Jn as se,Kn as ce,Nu as d,Pl as le,Pn as ue,Qn as de,Qu as f,Rn as fe,Sd as p,Un as pe,Vn as me,Wn as he,Xl as m,Xn as ge,Yn as _e,Zn as ve,Zu as ye,_ as be,ad as xe,ar as Se,bp as Ce,ci as h,dd as g,er as _,f as v,fd as y,g as b,i as x,id as S,ir as C,ju as w,ku as T,m as E,nd as D,nr as O,nu as k,op as A,pp as we,qd as j,qn as Te,qp as M,rr as N,s as P,tr as Ee,tu as De,v as F,vd as I,x as Oe,xd as L,xp as R,yp as ke,zn as Ae,zp as z}from"./index-hvLbsAjx.js";var B=M(z(),1),V=M(R(),1),H=()=>{let M=we(),R=ke(),{t:z}=h(),{containerRef:H,handleScroll:je}=x(`settings-websearch`,{autoRestore:!0,restoreDelay:0}),U=Ce(e=>e.webSearch)||{enabled:!1,provider:`firecrawl`,apiKey:``,includeInContext:!0,maxResults:5,showTimestamp:!0,filterSafeSearch:!0,searchWithTime:!1,excludeDomains:[],providers:[],customProviders:[]},[W,G]=(0,B.useState)(null),[K,q]=(0,B.useState)(!1),[J,Me]=(0,B.useState)(!1),Y=e=>{let t={tavily:{labelKey:`settings.webSearch.basic.provider.status.recommended`,color:`primary`},exa:{labelKey:`settings.webSearch.basic.provider.status.neuralSearch`,color:`info`},bocha:{labelKey:`settings.webSearch.basic.provider.status.aiSearch`,color:`warning`},firecrawl:{labelKey:`settings.webSearch.basic.provider.status.webScraping`,color:`info`},custom:{labelKey:`settings.webSearch.basic.provider.status.custom`,color:`info`}}[e]||{labelKey:`settings.webSearch.basic.provider.status.unknown`,color:`info`};return{label:z(t.labelKey),color:t.color}},Ne=()=>{M(`/settings`)},Pe=()=>{R(N())},Fe=e=>{R(ce(e.target.value))},Ie=e=>{R(he(e.target.value))},Le=(e,t)=>{R(ae(t))},Re=()=>{R(ge())},ze=()=>{R(Ee())},Be=()=>{R(se())},Ve=()=>{G({id:A(),name:z(`settings.webSearch.basic.customProviders.newName`),apiKey:``,baseUrl:``,enabled:!0}),q(!0)},He=e=>{G({...e}),q(!0)},Ue=e=>{R(c(e))},We=()=>{W&&(W.id&&U.customProviders?.some(e=>e.id===W.id)?R(C(W)):R(ue(W)),G(null),q(!1))},X=()=>{G(null),q(!1)},Z=(e,t)=>{W&&G(n=>({...n,[e]:t}))},Ge=e=>{R(oe(e.target.value))},Ke=(e,t)=>{R(fe(t))},qe=(e,t)=>{R(a(t/100))},Je=e=>{R(pe(e.target.value))},Ye=(e,t)=>{R(me(t))},Q=(e,t)=>{let n=U.providers.find(e=>e.id===`cloudflare-ai-search`);n&&R(Se({...n,[e]:t}))},$=()=>U.providers.find(e=>e.id===`cloudflare-ai-search`);return(0,V.jsxs)(be,{children:[(0,V.jsx)(E,{title:z(`settings.webSearch.title`),onBackPress:Ne}),(0,V.jsx)(v,{ref:H,onScroll:je,children:(0,V.jsxs)(Oe,{sx:{gap:3},children:[(0,V.jsxs)(F,{title:z(`settings.webSearch.basic.title`),children:[(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.basic.enable.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.basic.enable.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.enabled,onChange:Pe})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,minWidth:100},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.basic.provider.label`)}),(0,V.jsx)(I,{label:Y(U.provider).label,size:`small`,color:Y(U.provider).color,sx:{height:20,fontSize:`0.7rem`,fontWeight:600,"& .MuiChip-label":{px:1}}})]}),(0,V.jsx)(f,{size:`small`,sx:{flex:1},children:(0,V.jsxs)(d,{value:U.provider,onChange:Fe,disabled:!U.enabled,MenuProps:{disableAutoFocus:!0,disableRestoreFocus:!0},children:[(0,V.jsx)(u,{value:`tavily`,children:z(`settings.webSearch.basic.provider.options.tavily`)}),(0,V.jsx)(u,{value:`exa`,children:z(`settings.webSearch.basic.provider.options.exa`)}),(0,V.jsx)(u,{value:`bocha`,children:z(`settings.webSearch.basic.provider.options.bocha`)}),(0,V.jsx)(u,{value:`firecrawl`,children:z(`settings.webSearch.basic.provider.options.firecrawl`)}),(0,V.jsx)(u,{value:`cloudflare-ai-search`,children:`Cloudflare AI Search`}),(0,V.jsx)(u,{value:`custom`,children:z(`settings.webSearch.basic.provider.options.custom`)})]})})]}),U.provider!==`custom`&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{minWidth:100},children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.basic.apiKey.label`)}),U.apiKeys&&U.apiKeys[U.provider]||U.apiKey?(0,V.jsx)(i,{size:14,style:{color:`#10b981`}}):(0,V.jsx)(ee,{size:14,style:{color:`#ef4444`,opacity:.5}})]}),!1]}),(0,V.jsx)(s,{size:`small`,type:J?`text`:`password`,value:U.apiKeys&&U.apiKeys[U.provider]||U.apiKey||``,onChange:Ie,disabled:!U.enabled,placeholder:z(`settings.webSearch.basic.apiKey.placeholder`,{provider:U.provider}),sx:{flex:1},InputProps:{startAdornment:(0,V.jsx)(r,{position:`start`,children:(0,V.jsx)(te,{size:16,style:{opacity:.5}})}),endAdornment:(0,V.jsx)(r,{position:`end`,children:(0,V.jsx)(o,{size:`small`,onClick:()=>Me(!J),edge:`end`,disabled:!U.enabled,children:J?(0,V.jsx)(k,{size:16}):(0,V.jsx)(De,{size:16})})})}})]}),U.provider===`tavily`&&(0,V.jsx)(y,{sx:{px:2,pb:2,pt:0},children:(0,V.jsxs)(p,{severity:`info`,icon:!1,sx:{py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:[z(`settings.webSearch.basic.alerts.tavily.text`),` `,(0,V.jsx)(`a`,{href:`https://app.tavily.com`,target:`_blank`,rel:`noopener noreferrer`,style:{color:`inherit`,fontWeight:600},children:z(`settings.webSearch.basic.alerts.tavily.link`)}),` `,z(`settings.webSearch.basic.alerts.tavily.linkText`)]})}),U.provider===`exa`&&(0,V.jsx)(y,{sx:{px:2,pb:2,pt:0},children:(0,V.jsxs)(p,{severity:`info`,icon:!1,sx:{py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:[z(`settings.webSearch.basic.alerts.exa.text`),` `,(0,V.jsx)(`a`,{href:`https://exa.ai`,target:`_blank`,rel:`noopener noreferrer`,style:{color:`inherit`,fontWeight:600},children:z(`settings.webSearch.basic.alerts.exa.link`)}),` `,z(`settings.webSearch.basic.alerts.exa.linkText`)]})}),U.provider===`bocha`&&(0,V.jsx)(y,{sx:{px:2,pb:2,pt:0},children:(0,V.jsxs)(p,{severity:`info`,icon:!1,sx:{py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:[z(`settings.webSearch.basic.alerts.bocha.text`),` `,(0,V.jsx)(`a`,{href:`https://bochaai.com`,target:`_blank`,rel:`noopener noreferrer`,style:{color:`inherit`,fontWeight:600},children:z(`settings.webSearch.basic.alerts.bocha.link`)}),` `,z(`settings.webSearch.basic.alerts.bocha.linkText`)]})}),U.provider===`firecrawl`&&(0,V.jsx)(y,{sx:{px:2,pb:2,pt:0},children:(0,V.jsxs)(p,{severity:`info`,icon:!1,sx:{py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:[z(`settings.webSearch.basic.alerts.firecrawl.text`),` `,(0,V.jsx)(`a`,{href:`https://firecrawl.dev`,target:`_blank`,rel:`noopener noreferrer`,style:{color:`inherit`,fontWeight:600},children:z(`settings.webSearch.basic.alerts.firecrawl.link`)}),` `,z(`settings.webSearch.basic.alerts.firecrawl.linkText`)]})}),U.provider===`cloudflare-ai-search`&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(y,{sx:{px:2,pb:2,pt:0},children:(0,V.jsxs)(p,{severity:`info`,icon:!1,sx:{py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:[`获取 API Token 和配置：访问`,` `,(0,V.jsx)(`a`,{href:`https://developers.cloudflare.com/ai-search/get-started/`,target:`_blank`,rel:`noopener noreferrer`,style:{color:`inherit`,fontWeight:600},children:`Cloudflare AI Search 文档`}),` `,`了解如何创建 AI Search 并获取所需的 Account ID 和 AutoRAG 名称。`]})}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:`Account ID`}),(0,V.jsx)(s,{size:`small`,value:$()?.accountId||``,onChange:e=>Q(`accountId`,e.target.value),disabled:!U.enabled,placeholder:`输入 Cloudflare Account ID`,sx:{minWidth:220}})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:`AutoRAG Name`}),(0,V.jsx)(s,{size:`small`,value:$()?.autoragName||``,onChange:e=>Q(`autoragName`,e.target.value),disabled:!U.enabled,placeholder:`输入 AutoRAG 名称`,sx:{minWidth:220}})]})]})]}),U.provider===`custom`&&U.customProviders&&U.customProviders.length>0&&(0,V.jsxs)(y,{sx:{px:2,pb:2},children:[(0,V.jsx)(L,{variant:`subtitle2`,gutterBottom:!0,sx:{mb:1.5,fontWeight:600},children:z(`settings.webSearch.basic.customProviders.title`)}),U.customProviders.map(r=>(0,V.jsxs)(e,{variant:`outlined`,sx:{mb:1.5,borderColor:r.enabled?`primary.main`:`divider`,borderWidth:r.enabled?2:1,borderRadius:2,transition:`all 0.2s`,"&:hover":{boxShadow:1,borderColor:`primary.main`}},children:[(0,V.jsx)(n,{sx:{pb:1.5},children:(0,V.jsxs)(y,{sx:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,mb:1},children:[(0,V.jsxs)(y,{sx:{flex:1},children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,mb:.5},children:[(0,V.jsx)(L,{variant:`subtitle1`,fontWeight:600,children:r.name}),(0,V.jsx)(I,{label:r.enabled?z(`settings.webSearch.basic.customProviders.enabled`):z(`settings.webSearch.basic.customProviders.disabled`),size:`small`,color:r.enabled?`success`:`default`,sx:{height:20,fontSize:`0.7rem`,fontWeight:600,"& .MuiChip-label":{px:1}}})]}),(0,V.jsx)(L,{variant:`body2`,color:`text.secondary`,sx:{fontSize:`0.8rem`},children:r.baseUrl||z(`settings.webSearch.basic.customProviders.urlNotSet`)})]}),(0,V.jsx)(P,{checked:r.enabled,onChange:()=>R(Te(r.id))})]})}),(0,V.jsxs)(t,{sx:{pt:0,px:2,pb:1.5,gap:1},children:[(0,V.jsx)(g,{size:`small`,startIcon:(0,V.jsx)(le,{size:14}),onClick:()=>He(r),variant:`text`,sx:{fontSize:`0.8rem`},children:z(`settings.webSearch.basic.customProviders.edit`)}),(0,V.jsx)(g,{size:`small`,startIcon:(0,V.jsx)(ie,{size:14}),color:`error`,onClick:()=>Ue(r.id),variant:`text`,sx:{fontSize:`0.8rem`},children:z(`settings.webSearch.basic.customProviders.delete`)})]})]},r.id))]}),U.provider===`custom`&&(0,V.jsx)(y,{sx:{px:2,pb:2},children:(0,V.jsx)(g,{startIcon:(0,V.jsx)(ne,{size:16}),variant:`outlined`,fullWidth:!0,onClick:Ve,disabled:!U.enabled,children:z(`settings.webSearch.basic.customProviders.add`)})})]}),(0,V.jsxs)(F,{title:z(`settings.webSearch.searchOptions.title`),children:[(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{minWidth:100},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.searchOptions.maxResults.label`,{count:U.maxResults})}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,sx:{display:`block`,mt:.3},children:z(`settings.webSearch.searchOptions.maxResults.description`)})]}),(0,V.jsx)(y,{sx:{flex:1,maxWidth:280},children:(0,V.jsx)(w,{value:U.maxResults,onChange:Le,min:1,max:20,step:1,marks:[{value:1,label:`1`},{value:5,label:`5`},{value:10,label:`10`},{value:20,label:`20`}],disabled:!U.enabled,size:`small`,sx:{"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-markLabel":{fontSize:`0.7rem`}}})})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.searchOptions.includeInContext.label`)}),(0,V.jsx)(P,{checked:U.includeInContext,onChange:Re,disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.searchOptions.showTimestamp.label`)}),(0,V.jsx)(P,{checked:U.showTimestamp,onChange:ze,disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.searchOptions.filterSafeSearch.label`)}),(0,V.jsx)(P,{checked:U.filterSafeSearch,onChange:Be,disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.searchOptions.searchWithTime.label`)}),(0,V.jsx)(P,{checked:U.searchWithTime,onChange:()=>R(_()),disabled:!U.enabled})]}),(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,py:1.5,px:2,cursor:`pointer`,"&:hover":{bgcolor:`action.hover`},borderRadius:1},onClick:()=>M(`/settings/assistant-model`),children:[(0,V.jsxs)(y,{sx:{flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.searchOptions.aiIntentAnalysis.label`,`AI 意图分析`)}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,sx:{display:`block`,mt:.3},children:z(`settings.webSearch.searchOptions.aiIntentAnalysis.description`,`配置 AI 意图分析模型，提取更精准的搜索关键词`)})]}),(0,V.jsxs)(L,{variant:`body2`,color:`primary`,sx:{display:`flex`,alignItems:`center`,gap:.5},children:[z(`settings.webSearch.searchOptions.aiIntentAnalysis.configure`,`去配置`),` →`]})]})]}),U.provider===`tavily`&&(0,V.jsxs)(F,{title:z(`settings.webSearch.tavily.title`),children:[(0,V.jsx)(y,{sx:{px:2,pt:2},children:(0,V.jsx)(p,{severity:`info`,icon:!1,sx:{mb:2,py:1,fontSize:`0.875rem`,borderLeft:3,borderColor:`info.main`,bgcolor:e=>j(e.palette.info.main,.08)},children:z(`settings.webSearch.tavily.description`)})}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.smartSearch.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.tavily.smartSearch.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.enableSmartSearch||!1,onChange:()=>R(O()),disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.tavily.searchDepth.label`)}),(0,V.jsx)(f,{size:`small`,sx:{minWidth:200},children:(0,V.jsxs)(d,{value:U.searchDepth||`basic`,onChange:Ge,disabled:!U.enabled||U.enableSmartSearch,MenuProps:{disableAutoFocus:!0,disableRestoreFocus:!0},children:[(0,V.jsx)(u,{value:`basic`,children:z(`settings.webSearch.tavily.searchDepth.basic`)}),(0,V.jsx)(u,{value:`advanced`,children:z(`settings.webSearch.tavily.searchDepth.advanced`)})]})})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.chunksPerSource.label`,{count:U.chunksPerSource||3})}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,sx:{display:`block`,mt:.3},children:z(`settings.webSearch.tavily.chunksPerSource.description`)})]}),(0,V.jsx)(y,{sx:{minWidth:220},children:(0,V.jsx)(w,{value:U.chunksPerSource||3,onChange:Ke,min:1,max:5,step:1,marks:[{value:1,label:`1`},{value:3,label:`3`},{value:5,label:`5`}],disabled:!U.enabled||U.enableSmartSearch,size:`small`,sx:{"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-markLabel":{fontSize:`0.7rem`}}})})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.minScore.label`,{score:Math.round((U.minScore||.3)*100)})}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,sx:{display:`block`,mt:.3},children:z(`settings.webSearch.tavily.minScore.description`)})]}),(0,V.jsx)(y,{sx:{minWidth:220},children:(0,V.jsx)(w,{value:Math.round((U.minScore||.3)*100),onChange:qe,min:0,max:100,step:5,marks:[{value:0,label:`0%`},{value:30,label:`30%`},{value:70,label:`70%`},{value:100,label:`100%`}],disabled:!U.enabled||U.enableSmartSearch,size:`small`,sx:{"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-markLabel":{fontSize:`0.7rem`}}})})]}),(0,V.jsxs)(b,{children:[(0,V.jsx)(L,{sx:{flex:1},children:z(`settings.webSearch.tavily.timeRange.label`)}),(0,V.jsx)(f,{size:`small`,sx:{minWidth:200},children:(0,V.jsxs)(d,{value:U.timeRange||`week`,onChange:Je,disabled:!U.enabled,MenuProps:{disableAutoFocus:!0,disableRestoreFocus:!0},children:[(0,V.jsx)(u,{value:`day`,children:z(`settings.webSearch.tavily.timeRange.day`)}),(0,V.jsx)(u,{value:`week`,children:z(`settings.webSearch.tavily.timeRange.week`)}),(0,V.jsx)(u,{value:`month`,children:z(`settings.webSearch.tavily.timeRange.month`)}),(0,V.jsx)(u,{value:`year`,children:z(`settings.webSearch.tavily.timeRange.year`)})]})})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.newsSearchDays.label`,{days:U.newsSearchDays||7})}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,sx:{display:`block`,mt:.3},children:z(`settings.webSearch.tavily.newsSearchDays.description`)})]}),(0,V.jsx)(y,{sx:{minWidth:220},children:(0,V.jsx)(w,{value:U.newsSearchDays||7,onChange:Ye,min:1,max:30,step:1,marks:[{value:1,label:z(`settings.webSearch.tavily.newsSearchDays.marks.1day`)},{value:7,label:z(`settings.webSearch.tavily.newsSearchDays.marks.1week`)},{value:14,label:z(`settings.webSearch.tavily.newsSearchDays.marks.2weeks`)},{value:30,label:z(`settings.webSearch.tavily.newsSearchDays.marks.1month`)}],disabled:!U.enabled,size:`small`,sx:{"& .MuiSlider-thumb":{width:16,height:16},"& .MuiSlider-markLabel":{fontSize:`0.7rem`}}})})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.includeRawContent.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.tavily.includeRawContent.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.includeRawContent||!1,onChange:()=>R(ve()),disabled:!U.enabled||U.enableSmartSearch})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.includeAnswer.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.tavily.includeAnswer.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.includeAnswer||!1,onChange:()=>R(_e()),disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.enableQueryValidation.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.tavily.enableQueryValidation.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.enableQueryValidation!==!1,onChange:()=>R(re()),disabled:!U.enabled})]}),(0,V.jsxs)(b,{children:[(0,V.jsxs)(y,{sx:{display:`flex`,alignItems:`center`,gap:1,flex:1},children:[(0,V.jsx)(L,{children:z(`settings.webSearch.tavily.enablePostProcessing.label`)}),(0,V.jsx)(T,{title:z(`settings.webSearch.tavily.enablePostProcessing.tooltip`),children:(0,V.jsx)(m,{size:16,style:{opacity:.6}})})]}),(0,V.jsx)(P,{checked:U.enablePostProcessing!==!1,onChange:()=>R(de()),disabled:!U.enabled})]})]}),(0,V.jsx)(F,{title:z(`settings.webSearch.advanced.title`),children:(0,V.jsxs)(y,{sx:{px:2,pt:2,pb:2},children:[(0,V.jsx)(L,{variant:`subtitle2`,gutterBottom:!0,sx:{mb:1},children:z(`settings.webSearch.advanced.excludeDomains.label`)}),(0,V.jsx)(s,{fullWidth:!0,multiline:!0,rows:3,value:U.excludeDomains?.join(`
`)||``,onChange:e=>{R(Ae(e.target.value.split(`
`).filter(e=>e.trim())))},placeholder:z(`settings.webSearch.advanced.excludeDomains.placeholder`),disabled:!U.enabled,size:`small`,sx:{mb:1}}),(0,V.jsx)(L,{variant:`caption`,color:`text.secondary`,children:z(`settings.webSearch.advanced.excludeDomains.description`)})]})})]})}),K&&W&&(0,V.jsxs)(l,{open:K,onClose:X,maxWidth:`sm`,fullWidth:!0,children:[(0,V.jsx)(D,{children:W.id?z(`settings.webSearch.basic.editDialog.editTitle`):z(`settings.webSearch.basic.editDialog.addTitle`)}),(0,V.jsx)(S,{children:(0,V.jsxs)(y,{sx:{display:`flex`,flexDirection:`column`,gap:2,mt:1},children:[(0,V.jsx)(s,{fullWidth:!0,label:z(`settings.webSearch.basic.editDialog.name`),value:W.name,onChange:e=>Z(`name`,e.target.value),size:`small`}),(0,V.jsx)(s,{fullWidth:!0,label:z(`settings.webSearch.basic.editDialog.baseUrl`),value:W.baseUrl,onChange:e=>Z(`baseUrl`,e.target.value),placeholder:z(`settings.webSearch.basic.editDialog.baseUrlPlaceholder`),size:`small`}),(0,V.jsx)(s,{fullWidth:!0,label:z(`settings.webSearch.basic.editDialog.apiKey`),type:`password`,value:W.apiKey,onChange:e=>Z(`apiKey`,e.target.value),size:`small`}),(0,V.jsx)(ye,{control:(0,V.jsx)(P,{checked:W.enabled,onChange:e=>Z(`enabled`,e.target.checked)}),label:z(`settings.webSearch.basic.editDialog.enable`)})]})}),(0,V.jsxs)(xe,{children:[(0,V.jsx)(g,{onClick:X,children:z(`settings.webSearch.basic.editDialog.cancel`)}),(0,V.jsx)(g,{variant:`contained`,onClick:We,sx:{bgcolor:`#3b82f6`,"&:hover":{bgcolor:`#2563eb`}},children:z(`settings.webSearch.basic.editDialog.save`)})]})]})]})};export{H as default};