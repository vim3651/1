import{Ad as e,Cd as t,Du as n,Eu as r,Iu as i,Ju as a,Nu as o,Of as s,Qt as c,Qu as l,_ as u,bd as d,dd as f,fd as p,md as m,pp as h,qd as g,qp as _,ur as v,xd as y,xp as b,xu as x,zp as S}from"./index-hvLbsAjx.js";import{a as C}from"./constants-DDDt18vz.js";var w=_(S(),1),T=_(b(),1),E=C.filter(e=>![`custom`,`google`].includes(e.value)),D=()=>{let _=h(),b=c(),[S,C]=(0,w.useState)(``),[D,O]=(0,w.useState)(``),[k,A]=(0,w.useState)(``),j=()=>{_(`/settings/default-model`)},M=e=>{let t=e.target.value;O(t);let n=E.find(e=>e.value===t);n&&A(n.label.charAt(0).toUpperCase())},N=e=>{let t=e.target.value;C(t)},P=e=>{switch(e){case`openai`:case`openai-aisdk`:return`https://api.openai.com/v1`;case`azure-openai`:return``;case`anthropic`:return`https://api.anthropic.com/v1`;case`gemini`:return`https://generativelanguage.googleapis.com/v1beta`;case`grok`:return`https://api.x.ai/v1`;case`deepseek`:return`https://api.deepseek.com`;case`zhipu`:return`https://open.bigmodel.cn/api/paas/v4/`;case`siliconflow`:return`https://api.siliconflow.cn/v1`;case`volcengine`:return`https://ark.cn-beijing.volces.com/api/v3`;case`minimax`:return`https://api.minimaxi.com`;case`google`:return`https://generativelanguage.googleapis.com/v1beta`;default:return``}},F=()=>{let e=[`#10a37f`,`#4285f4`,`#b83280`,`#8b5cf6`,`#6366f1`,`#ef4444`,`#f59e0b`,`#22c55e`],t=e[Math.floor(Math.random()*e.length)],n={id:s(),name:S,avatar:k,color:t,isEnabled:!0,apiKey:``,baseUrl:P(D),models:[],providerType:D};b(v(n)),_(`/settings/model-provider/${n.id}`)},I=!S||!D;return(0,T.jsxs)(u,{children:[(0,T.jsx)(d,{position:`static`,elevation:0,sx:{bgcolor:`background.paper`,color:`text.primary`,borderBottom:1,borderColor:`divider`,backdropFilter:`blur(8px)`},children:(0,T.jsxs)(n,{children:[(0,T.jsx)(t,{edge:`start`,onClick:j,"aria-label":`back`,sx:{color:e=>e.palette.primary.main},children:(0,T.jsx)(x,{size:20})}),(0,T.jsx)(y,{variant:`h6`,component:`div`,sx:{flexGrow:1,fontWeight:600},children:`添加提供商`})]})}),(0,T.jsx)(p,{sx:{flexGrow:1,overflowY:`auto`,p:2,pb:`var(--content-bottom-padding)`,"&::-webkit-scrollbar":{width:`6px`},"&::-webkit-scrollbar-thumb":{backgroundColor:`rgba(0,0,0,0.1)`,borderRadius:`3px`}},children:(0,T.jsxs)(e,{elevation:0,sx:{p:3,borderRadius:2,border:`1px solid`,borderColor:`divider`,bgcolor:`background.paper`,boxShadow:`0 4px 12px rgba(0,0,0,0.05)`,maxWidth:600,mx:`auto`},children:[(0,T.jsxs)(p,{sx:{display:`flex`,alignItems:`center`,mb:4},children:[(0,T.jsx)(m,{sx:{width:64,height:64,bgcolor:`#9333EA`,fontSize:`1.7rem`,mr:2,boxShadow:`0 4px 8px rgba(0,0,0,0.1)`},children:k||`P`}),(0,T.jsx)(y,{variant:`h5`,sx:{fontWeight:600},children:S||`新提供商`})]}),(0,T.jsx)(y,{variant:`subtitle1`,gutterBottom:!0,sx:{fontWeight:600,color:`text.primary`,mb:3},children:`提供商信息`}),(0,T.jsxs)(p,{sx:{mb:3},children:[(0,T.jsx)(y,{variant:`subtitle2`,gutterBottom:!0,color:`text.secondary`,children:`提供商名称`}),(0,T.jsx)(r,{fullWidth:!0,placeholder:`例如 OpenAI`,value:S,onChange:N,variant:`outlined`,size:`small`,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),(0,T.jsxs)(p,{sx:{mb:4},children:[(0,T.jsx)(y,{variant:`subtitle2`,gutterBottom:!0,color:`text.secondary`,children:`提供商类型`}),(0,T.jsxs)(l,{fullWidth:!0,size:`small`,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}},children:[(0,T.jsx)(a,{children:`提供商类型`}),(0,T.jsx)(o,{value:D,onChange:M,label:`提供商类型`,children:E.map(e=>(0,T.jsx)(i,{value:e.value,children:e.label},e.value)).filter(Boolean)})]}),D&&(0,T.jsx)(y,{variant:`body2`,color:`text.secondary`,sx:{mt:1,fontSize:`0.8rem`},children:D===`openai`?`添加OpenAI兼容的API服务`:D===`openai-response`?`添加OpenAI Responses API服务（支持最新的响应格式和推理功能）`:D===`openai-aisdk`?`添加OpenAI API服务（使用AI SDK，专为浏览器优化，解决流式响应延迟问题）`:D===`azure-openai`?`添加Azure OpenAI API服务（需要配置endpoint和apiVersion）`:D===`anthropic`?`添加Anthropic Claude API服务`:D===`gemini`?`添加Google Gemini API服务`:D===`grok`?`添加xAI (Grok) API服务`:D===`deepseek`?`添加DeepSeek API服务（使用OpenAI兼容格式）`:D===`zhipu`?`添加智谱AI (GLM) API服务（使用OpenAI兼容格式）`:D===`siliconflow`?`添加硅基流动 (SiliconFlow) API服务`:D===`volcengine`?`添加火山引擎 (豆包/DeepSeek) API服务`:`添加自定义API服务`})]}),(0,T.jsxs)(p,{sx:{mt:4,display:`flex`,justifyContent:`flex-end`,gap:2},children:[(0,T.jsx)(f,{variant:`outlined`,onClick:j,sx:{borderRadius:2,px:3},children:`取消`}),(0,T.jsx)(f,{onClick:F,disabled:I,sx:{bgcolor:e=>g(e.palette.primary.main,.1),color:`primary.main`,"&:hover":{bgcolor:e=>g(e.palette.primary.main,.2)},borderRadius:2,px:3},children:`下一步`})]})]})})]})};export{D as default};